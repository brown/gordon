See the code in ./demos
